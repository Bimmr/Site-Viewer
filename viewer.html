<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="en_US">

  <title>Site Viewer</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />

  <link rel="stylesheet" href="css/viewer.css">
  <link rel="stylesheet" href="modules/notifications/notifications.css">

  <script src="modules/notifications/notifications.js" type="text/javascript"></script>
  <script src="js/utils.js" type="text/javascript"></script>
  <script src="js/data.js" type="text/javascript"></script>
  <script src="js/tabCrawler.js" type="text/javascript"></script>
  <script src="js/crawl.js" type="text/javascript"></script>
  <script src="js/viewer.js" type="text/javascript"></script>

</head>

<body class="preload">
  <div id="body-wrapper">
    <aside id="sidebar" class="sidebar">
      <ul class="sidebar-menu">
        <li class="sidebar-item active">
          <i class="fa-solid fa-chart-line fa-2x"></i>
          <p>Overview</p>
        </li>
      </ul>
      <span class="sidebar-split"></span>
      <ul class="sidebar-menu">
        <li class="sidebar-item">
          <i class="fa fa-file-lines fa-2x"></i>
          <p>Pages</p>
          <span class="count-badge">0</span>
          <span class="newContent"><i class="fas fa-star-of-life"></i></span>
        </li>
        <li class="sidebar-item">
          <i class="fa-solid fa-file-code fa-2x"></i>
          <p>Assets</p>
          <span class="count-badge">0</span>
          <span class="newContent"><i class="fas fa-star-of-life"></i></span>
        </li>
        <li class="sidebar-item">
          <i class="fa fa-link fa-2x"></i>
          <p>Links</p>
          <span class="count-badge">0</span>
          <span class="newContent"><i class="fas fa-star-of-life"></i></span>
        </li>
        <li class="sidebar-item">
          <i class="fa fa-folder-open fa-2x"></i>
          <p>Files</p>
          <span class="count-badge">0</span>
          <span class="newContent"><i class="fas fa-star-of-life"></i></span>
        </li>
        <li class="sidebar-item">
          <i class="fas fa-images fa-2x"></i>
          <p>Media</p>
          <span class="count-badge">0</span>
          <span class="newContent"><i class="fas fa-star-of-life"></i></span>
        </li>
      </ul>
      <span class="sidebar-split"></span>
      <ul class="sidebar-menu">
        <li class="sidebar-item">
          <i class="fa-solid fa-gear fa-2x"></i>
          <p>Settings</p>
        </li>
      </ul>
      <span class="sidebar-footer">SiteViewer<br>Version: <span class="version"></span></span>
    </aside>
    <main id="main">

      <!-- Overview View -->
      <div id="overview" class="view active">
        <div class="view-wrapper">
          <div class="banner overview-banner">
            <div class="banner-content">
              <h1>Crawled:</h1>
              <h3>
                <span id="crawledSiteText"></span>
                <div class="hover-popup-icon">
                  <span id="crawledSiteCount"></span>
                  <div class="hover-popup">
                    <p id="crawledLinks"></p>
                  </div>
                </div>
              </h3>
            </div>
            <div class="banner-action">
              <button class="crawlAllBtn">Crawl All Pages</button>
            </div>
          </div>
          <div class="row center-even">
            <div class="col card stat-card">
              <h2 class="card-title"><i class="fa fa-file-lines"></i>Found Pages</h2>
              <p id="pages-count" class="count">0</p>
            </div>
            <div class="col card stat-card">
              <h2 class="card-title"><i class="fa-solid fa-file-code"></i>Found Assets</h2>
              <p id="assets-count" class="count">0</p>
            </div>
            <div class="col card stat-card">
              <h2 class="card-title"><i class="fas fa-link"></i>Found Links</h2>
              <p id="links-count" class="count">0</p>
            </div>

          </div>
          <div class="row center-even">

            <div class="col card stat-card">
              <h2 class="card-title"><i class="fa fa-folder-open"></i>Found Files</h2>
              <p id="files-count" class="count">0</p>
            </div>
            <div class="col card stat-card">
              <h2 class="card-title"><i class="fas fa-images"></i>Found Media</h2>
              <p id="media-count" class="count">0</p>
            </div>
          </div>
        </div>
      </div>


      <!-- Pages View -->
      <div id="pages" class="view view-withTitle">
        <div class="view-wrapper">
          <div class="view-title">
            <div class="select">
              <input type="checkbox">
            </div>
            <div class="link">
              <p>Page</p>
              <a title="Toggle Filter" href="#" class="filter-icon"><i class="fa fa-search"></i></a>
            </div>
            <div class="tools">
              <p>Page Tools</p>
            </div>
          </div>
          <div class="view-items">
            <div class="empty-row">There are no items here.</div>
          </div>
        </div>
        <div class="searchbar">
          <div class="form-item" style="margin: 0;width: 100%">
            <span class="icon"><i class="fas fa-search"></i></span>
            <input type="text" required="required" title=" " placeholder="Search...">
          </div>
        </div>
        <div class="multi-wrapper">
          <div class="form-item">
            <button type="button" class="downloadSelected">Download Selected</button>
            <button type="button" class="crawlSelected">Crawl Selected</button>
          </div>
        </div>
      </div>


      <!-- Assets View -->
      <div id="assets" class="view view-withTitle">
        <div class="view-wrapper">
          <div class="view-title">
            <div class="select">
              <input type="checkbox">
            </div>
            <div class="type">
              <p>File Type</p>
            </div>
            <div class="link">
              <p>Link</p>
              <a title="Toggle Filter" href="#" class="filter-icon"><i class="fa fa-search"></i></a>
            </div>
            <div class="tools">
              <p>File Tools</p>
            </div>
          </div>
          <div class="view-items">
            <div class="empty-row">There are no items here.</div>
          </div>
        </div>
        <div class="searchbar">
          <div class="form-item" style="margin: 0;width: 100%">
            <span class="icon"><i class="fas fa-search"></i></span>
            <input type="text" required="required" title=" " placeholder="Search...">
          </div>
        </div>
        <div class="multi-wrapper">
          <div class="form-item">
            <button class="downloadSelected">Download Selected</button>
            <button class="crawlSelected">Crawl Selected</button>
          </div>
        </div>
      </div>


      <!-- Links View -->
      <div id="links" class="view view-withTitle">
        <div class="view-wrapper">
          <div class="view-title">
            <div class="select">
              <input type="checkbox">
            </div>
            <div class="type">
              <p>Link Type</p>
            </div>
            <div class="link">
              <p>Link</p>
              <a title="Toggle Filter" href="#" class="filter-icon"><i class="fa fa-search"></i></a>
            </div>
            <div class="tools">
              <p>Link Tools</p>
            </div>
          </div>
          <div class="view-items">
            <div class="view-row">
              <div class="empty-row">There are no items here.</div>
            </div>
          </div>
        </div>
        <div class="searchbar">
          <div class="form-item" style="margin: 0;width: 100%">
            <span class="icon"><i class="fas fa-search"></i></span>
            <input type="text" required="required" title=" " placeholder="Search...">
          </div>
        </div>
        <div class="multi-wrapper">
          <div class="form-item">
            <button type="button" class="testSelected">Test Selected</button>n>
          </div>
        </div>
      </div>

      <!-- Files View -->
      <div id="files" class="view view-withTitle">
        <div class="view-wrapper">
          <div class="view-title">
            <div class="select">
              <input type="checkbox">
            </div>
            <div class="type">
              <p>File Type</p>
            </div>
            <div class="link">
              <p>Link</p>
              <a title="Toggle Filter" href="#" class="filter-icon"><i class="fa fa-search"></i></a>
            </div>
            <div class="tools">
              <p>File Tools</p>
            </div>
          </div>
          <div class="view-items">
            <div class="empty-row">There are no items here.</div>
          </div>
        </div>
        <div class="searchbar">
          <div class="form-item" style="margin: 0;width: 100%">
            <span class="icon"><i class="fas fa-search"></i></span>
            <input type="text" required="required" title=" " placeholder="Search...">
          </div>
        </div>
        <div class="multi-wrapper">
          <div class="form-item">
            <button class="downloadSelected">Download Selected</button>
          </div>
        </div>
      </div>


      <!-- Media View -->
      <div id="media" class="view view-withTitle">
        <div class="view-wrapper">
          <div class="view-title">
            <div class="select">
              <input type="checkbox">
            </div>
            <div class="image">
              <p>Media Preview</p>
            </div>
            <div class="link">
              <p>Media Link</p>
              <a title="Toggle Filter" href="#" class="filter-icon"><i class="fa fa-search"></i></a>
            </div>
            <div class="tools">
              <p>Media Tools</p>
            </div>
          </div>
          <div class="view-items">
            <div class="view-row">
              <div class="empty-row">There are no items here.</div>
            </div>
          </div>
        </div>
        <div class="searchbar">
          <div class="form-item" style="margin: 0;width: 100%">
            <span class="icon"><i class="fas fa-search"></i></span>
            <input type="text" required="required" title=" " placeholder="Search...">
          </div>
        </div>
        <div class="multi-wrapper">
          <div class="form-item">
            <button type="button" class="downloadSelected">Download Selected</button>
          </div>
        </div>
      </div>


      <!-- Settings View -->
      <div id="settings" class="view">
        <div class="view-wrapper">
          

          <div class="card settings-card">
            <h3 class="card-title"><i class="fas fa-window-restore"></i> Crawl Mode</h3>
            <p>Choose how pages are crawled: fetch only, live tabs, or smart detection.</p>
            <div class="radio-group">
              <div class="radio-item">
                <input type="radio" id="crawl-crawlMode-smart" name="crawl-crawlMode" value="smart" checked>
                <label for="crawl-crawlMode-smart">
                  <div class="radio-header">
                    <i class="fas fa-wand-magic-sparkles"></i>
                    <span class="radio-title">Smart Mode <span class="badge">Recommended</span></span>
                  </div>
                  <div class="radio-description">Auto-detects if pages need live crawling. Fast for static sites, accurate for SPAs.</div>
                </label>
              </div>
              <div class="radio-item">
                <input type="radio" id="crawl-crawlMode-live" name="crawl-crawlMode" value="live">
                <label for="crawl-crawlMode-live">
                  <div class="radio-header">
                    <i class="fas fa-window-restore"></i>
                    <span class="radio-title">Live Mode</span>
                  </div>
                  <div class="radio-description">Always opens tabs. Best for dynamic apps.</div>
                </label>
              </div>
              <div class="radio-item">
                <input type="radio" id="crawl-crawlMode-fetch" name="crawl-crawlMode" value="fetch">
                <label for="crawl-crawlMode-fetch">
                  <div class="radio-header">
                    <i class="fas fa-download"></i>
                    <span class="radio-title">Fetch Mode</span>
                  </div>
                  <div class="radio-description">Fastest, but may miss JavaScript-generated content.</div>
                </label>
              </div>
            </div>
            <br>
            <div class="form-item split">
              <div class="border">
                <input id="crawl-liveWaitTime" type="number" name="crawl-liveWaitTime" min="1000" max="30000" step="1000" value="5000" required>
                <label for="crawl-liveWaitTime">Wait Time (ms)</label>
              </div>
              <div class="border">
                <input id="crawl-maxConcurrentTabs" type="number" name="crawl-maxConcurrentTabs" min="1" max="20" step="1" value="10" required>
                <label for="crawl-maxConcurrentTabs">Max Concurrent Tabs</label>
              </div>
            </div>
          </div>

          <div class="card settings-card">
            <h3 class="card-title"><i class="fas fa-gauge-high"></i> Crawl Rate Limiting</h3>
            <p>Set the delay (in milliseconds) between crawl requests to avoid overwhelming servers.</p>
            <div class="settings-warning">
              <i class="fas fa-triangle-exclamation"></i>
              <span>Lower values = faster crawling but may trigger rate limits. Recommended: 100-500ms</span>
            </div>
            
            <br>
            <div class="form-item split">
              <div class="border">
                <input id="crawl-rateLimitMs" type="number" name="crawl-rateLimitMs" min="0" max="5000" value="100" required>
                <label for="crawl-rateLimitMs">Rate Limit (ms)</label>
              </div>
              <div></div>
            </div>
          </div>

          <div class="card settings-card">
            <h3 class="card-title"><i class="fas fa-globe"></i> CORS Proxy Configuration</h3>
            <p>Configure the CORS bypass proxy URLs used for cross-origin requests.</p>
            <div class="settings-note">
              <i class="fas fa-circle-info"></i>
              <span>Change these if the default proxy is unavailable or you want to use your own.</span>
            </div>
            <br>
            <div class="form-item split">
              <div class="border">
                <input id="crawl-corsProxyUrl" type="text" name="crawl-corsProxyUrl" value="https://api.allorigins.win/get?url=" required>
                <label for="crawl-corsProxyUrl">CORS Proxy URL</label>
              </div>
              <div class="border">
                <input id="crawl-corsProxyRawUrl" type="text" name="crawl-corsProxyRawUrl" value="https://api.allorigins.win/raw?url=" required>
                <label for="crawl-corsProxyRawUrl">CORS Proxy Raw URL</label>
              </div>
            </div>
          </div>
          <div class="card settings-card">
            <h3 class="card-title"><i class="fas fa-code"></i> Crawl the On Page Assets</h3>
            <p>Do you want to crawl the on page assets. These would be anything in <i>&lt;script&gt;</i> or
              <i>&lt;style&gt;</i> tags.
            </p>
            <div class="settings-note">
              <i class="fas fa-circle-info"></i>
              <span>You will need to recrawl after changing these for them to take effect</span>
            </div><br>
            <div class="form-item split even">
              <div>
                <input type="checkbox" id="crawl-onPageScripts" checked>
                <label for="crawl-onPageScripts">Crawl &lt;script&gt; tags</label>
              </div>
              <div>
                <input type="checkbox" id="crawl-onPageStyles" checked>
                <label for="crawl-onPageStyles">Crawl &lt;style&gt; tags</label>
              </div>
              <div></div>
              <div></div>
            </div>
          </div>
          <div class="card settings-card needsManageDownloads">
            <h3 class="card-title"><i class="fas fa-download"></i> Download Options</h3>
            <p>Configure how files are downloaded and organized.</p>
            
            <br>
            <div class="form-item split">
              <div class="border">
                <input id="download-directory" type="text" name="download-directory" required>
                <label for="download-directory">Download Directory</label>
              </div>
              <div></div>
            </div>

            <br>
            <div class="settings-warning">
              <i class="fas fa-triangle-exclamation"></i>
              <span>Combine feature is still in testing and may not work as intended.</span>
            </div>
            <br>
            <div class="form-item">
              <input type="checkbox" id="combine-enabled">
              <label for="combine-enabled">Combine items into a single html page</label>
            </div>
            <div class="combine-settings">
              <div class="form-item split even">
                <div>
                  <input type="checkbox" id="combine-assets">
                  <label for="combine-assets">Assets (.js/.css)</label>
                </div>
                <div class="bigger">
                  <input type="checkbox" id="combine-imagesInAssets">
                  <label for="combine-imagesInAssets">Images on page in <i>&lt;style&gt;</i> tags</label>
                </div>
                <div>
                  <input type="checkbox" id="combine-images" checked>
                  <label for="combine-images">Images on page</label>
                </div>
                <!-- <div>
                  <input type="checkbox" id="combine-onlyLocal" checked>
                  <label for="combine-onlyLocal">Combine only the local items</label>
                </div> -->
              </div>
            </div>
          </div>
          <div class="card settings-card">
            <h3 class="card-title"><i class="fas fa-arrows-rotate"></i> Recrawl the Base URL</h3>
            <p>Want to clear up all your currently crawled pages and go back to only the first page being crawled?</p>
            <br>
            <div class="form-item">
              <button id="recrawlBtn"><i class="fas fa-sync-alt"></i> Recrawl</button>
            </div>
          </div>
        </div>
      </div>


      <!-- Popup -->
      <div id="inspecter" class="popup ">
        <div class="popup-outerWrapper">
          <div class="card popup-wrapper">
            <span class="card-title">
              <h2>Title</h2>
              <h3>https://www.Sub-title.com</h3>
              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eius, modi, earum illo, voluptatum neque
                quibusdam eveniet quisquam beatae recusandae ducimus libero soluta commodi impedit aliquam rem harum!
                Exercitationem maiores, debitis odio accusantium delectus ipsum magnam mollitia nisi, aspernatur et
                autem molestiae reprehenderit recusandae voluptatum. Mollitia perspiciatis reprehenderit animi vero est!
              </p>
            </span>
            <span title="Delete Crawl Data" class="card-title-icon popup-delete"><i class="fas fa-trash"></i></span>
            <span title="Close Popup" class="card-title-icon popup-close"><i
                class="far fa-window-close tool-icon"></i></span>
            <div class="popup-nav">
              <div class="popup-nav-item active">
                <p>Links</p>
              </div>
              <div class="popup-nav-item">
                <p>Files</p>
              </div>
              <div class="popup-nav-item">
                <p>Assets</p>
              </div>
              <div class="popup-nav-item">
                <p>Media</p>
              </div>
            </div>
            <div class="popup-content">
              <div class="popup-view active" id="popup-view-links">
                <div class="view-wrapper">
                  <div class="view-items">
                    <div class="view-row">
                      <div class="empty-row">There are no items here.</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="popup-view" id="popup-view-files">
                <div class="view-wrapper">
                  <div class="view-items">
                    <div class="view-row">
                      <div class="empty-row">There are no items here.</div>
                    </div>
                  </div>
                </div>
                <div class="multi-wrapper">
                  <div class="form-item">
                    <button type="button" class="downloadSelected">Download Selected</button>
                  </div>
                </div>
              </div>
              <div class="popup-view" id="popup-view-assets">
                <div class="view-wrapper">
                  <div class="view-items">
                    <div class="view-row">
                      <div class="empty-row">There are no items here.</div>
                    </div>
                  </div>
                </div>
                <div class="multi-wrapper">
                  <div class="form-item">
                    <button type="button" class="downloadSelected">Download Selected</button>
                  </div>
                </div>
              </div>
              <div class="popup-view" id="popup-view-media">
                <div class="view-wrapper">
                  <div class="view-items">
                    <div class="view-row">
                      <div class="empty-row">There are no items here.</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Image expander -->
      <div id="expander" class="popup ">
        <div class="popup-outerWrapper">
          <div class="popup-wrapper">
            <span title="Close Popup" class="card-title-icon popup-close"><i
                class="far fa-window-close tool-icon"></i></span>

            <div class="popup-imageWrapper">
              <img class="expanded-image" src="https://bimmr.com/imgs/projects/Signs.png" alt="">
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>

</html>